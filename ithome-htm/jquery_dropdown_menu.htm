<!doctype html>
<html>
<head>
<title>jquery dropdown-menu demo</title>
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic+Coding|ZCOOL+XiaoWei&display=swap" rel="stylesheet">
<meta charset="utf-8"/>
<style>
*{
margin:0;padding:0;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}
body,button,pre{background:#eee;font-family:'Nanum Gothic Coding','ZCOOL XiaoWei';line-height:1.2em;}
h1{background:#666;color:#FFA;margin:1rem 0;padding:1rem;}
pre{background:#333;color:#0E9;padding:1rem;font-size:1.2rem;white-space: pre-wrap;word-wrap: break-word;}
p{padding:1rem;}
button{font-size:1.2rem;vertical-align:middle;border-radius:0.5rem;padding:0.5em;}
</style>
</head>
<body>
<h1>jquery dropdown-menu demo <button onclick="switchContentMode('demo_container')">切換HTML</button></h1>
<div id="demo_container">
<!-- 內容開始 -->

<style>
*{
margin:0;padding:0;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}
.nav{display:flex; justify-content:center;}
.nav-item{position:relative;width:150px;}
.nav-item h3{padding:1em;border:solid 1px #333;background:#aaa;cursor:pointer;}
.nav-item ul{position:absolute;width:100%;top:3.5em;left:0px;}
.nav-item ul li{display:none;padding:1em;background:#000;color:#aaa;text-align:center;border:solid 1px #ccc;}
.nav-item ul li a:link,.nav-item ul li a:visited{text-decoration:none;color:#ccc;}
.nav-item ul li:hover{background:#555;}
.nav-item ul li a:hover,.nav-item ul li a:active{color:#ff0;}
h3.switchDisplay{background:#ff0;}
ul.switchDisplay li{display:block;}
</style>

<div class="nav">
	<div class="nav-item">
		<h3>下拉式選單1</h3>
		<ul>
			<li><a href="">測試項目1</a></li>
			<li><a href="">測試項目2</a></li>
			<li><a href="">測試項目3</a></li>
			<li><a href="">測試項目4</a></li>
		</ul>
	</div>
	<div class="nav-item">
		<h3>下拉式選單2</h3>
		<ul>
			<li><a href="">測試項目1</a></li>
			<li><a href="">測試項目2</a></li>
			<li><a href="">測試項目3</a></li>
		</ul>
	</div>
	<div class="nav-item">
		<h3>下拉式選單3</h3>
		<ul>
			<li><a href="">測試項目1</a></li>
			<li><a href="">測試項目2</a></li>
			<li><a href="">測試項目3</a></li>
			<li><a href="">測試項目4</a></li>
			<li><a href="">測試項目5</a></li>
			<li><a href="">測試項目6</a></li>
		</ul>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.js"></script>

<script>
$('.nav-item h3').on('click',function(){
	if($(this).hasClass( "switchDisplay" )==false){
		$('.nav-item h3,.nav-item ul').removeClass('switchDisplay');
	}
	$(this).toggleClass('switchDisplay').siblings().toggleClass('switchDisplay');
});

</script>


<!-- 內容結束 -->
</div>

<script>
let switchContentMode=(targetDiv)=>{
	let currDivStr=document.querySelector('#'+targetDiv).innerHTML;
		if(currDivStr.indexOf('<pre>')==-1){
			currDivStr=currDivStr.replace(/</g,'&lt;').replace(/>/g,'&gt;');
			//console.log(currDivStr);
			document.querySelector('#'+targetDiv).innerHTML='<pre>'+currDivStr+'</pre>';
		}else{
			location.reload(true);
			//currDivStr=currDivStr.replace('<pre>','').replace('</pre>','').replace(/&lt;/g,'<').replace(/&gt;/g,'>');
			//console.log(currDivStr);
			//document.querySelector('#'+targetDiv).innerHTML=currDivStr;
		}
}
</script>
</body>
</html>